<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Buy a Jersey</title>
    <link rel="stylesheet" href="style.css" />
    <script src="https://js.stripe.com/v3/"></script>

    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script
      src="https://kit.fontawesome.com/a47fc389f5.js"
      crossorigin="anonymous"
    ></script>
    <style>
      body {
        margin: 0;
        padding: 0;
        background: #182023;
        font-family: "Poppins", sans-serif;
        text-align: center;
      }

      .jersey-card {
        background: #fff;
        padding: 30px;
        margin: 5% auto;
        display: flex;
        border-radius: 15px;
        box-shadow: 0 0 25px rgba(255, 215, 0, 0.3);
        width: 70%;
        gap: 5%;
        flex-wrap: wrap;
      }

      .jersey-card img {
        width: 100%;
        border-radius: 10px;
      }

      .jersey-swiper {
        width: 45%;
      }

      .jersey-info {
        flex: 1;
        min-width: 250px;
        color: black;
      }

      .jersey-info h2 {
        font-size: 24px;
        color: #00000000;
      }

      .jersey-info p,
      #addPricing {
        color: #000000;
        margin: 5px 0 6px;
      }

      select,
      input[type="number"],
      input[type="text"] {
        width: 100%;
        padding: 10px;
        margin-bottom: 15px;
        border-radius: 8px;
        border: 1px solid #ccc;
        font-size: 14px;
      }

      input[type="text"]::placeholder {
        color: #aaa;
      }

      button {
        background-color: #006400;
        color: #fff;
        padding: 12px;
        width: 100%;
        border: none;
        border-radius: 8px;
        font-weight: bold;
        cursor: pointer;
        transition: 0.3s ease;
      }

      button:hover {
        background-color: #008000;
      }

      nav {
        background-color: #000;
        padding: 10px;
        display: flex;
        align-items: center;
        justify-content: space-between;
      }

      nav ul {
        list-style: none;
        display: flex;
        gap: 15px;
        padding: 0;
        margin: 0;
      }

      nav a {
        color: #fff;
        text-decoration: none;
        font-weight: 600;
      }

      #logo img {
        height: 40px;
      }

      footer {
        color: white;
        margin-top: 50px;
        padding-bottom: 30px;
      }

      footer i {
        margin: 0 10px;
      }

      @media (max-width: 750px) {
        .jersey-card {
          flex-direction: column;
          width: 90%;
        }

        .jersey-swiper {
          width: 100%;
        }
      }
    </style>
  </head>
  <body>
    <nav>
      <div id="logo">
        <a href="index.html"><img src="images/logo.jpg" alt="propectfc" /></a>
      </div>
      <ul>
        <li><a href="index.html"> HOME </a></li>
        <li><a href="squad.html"> SQUAD </a></li>
        <li><a href="fixture.html"> FIXTURE </a></li>
        <li><a href="sponsor.html"> SPONSORS </a></li>
        <li><a href="contact.html"> CONTACT </a></li>
      </ul>
    </nav>

    <div class="jersey-card">
      <div class="jersey-swiper swiper">
        <div class="swiper-wrapper">
          <div class="swiper-slide">
            <img src="images/mobile hero.jpg" alt="Jersey 1" />
          </div>
          <div class="swiper-slide">
            <img src="images/home kit.jpg" alt="Jersey 2" />
          </div>
          <div class="swiper-slide">
            <img src="images/home.jpg" alt="Jersey 3" />
          </div>
          <div class="swiper-slide">
            <img src="images/homekit.jpg" alt="Jersey 4" />
          </div>
          <div class="swiper-slide">
            <img src="images/jersy.jpg" alt="Jersey 5" />
          </div>
          <div class="swiper-slide">
            <img src="images/homehome.jpg" alt="Jersey 5" />
          </div>
          <div class="swiper-slide">
            <img src="images/jersey.jpg" alt="Jersey 6" />
          </div>
        </div>
        <div class="swiper-pagination"></div>
      </div>

      <div class="jersey-info">
        <h2>Prospect FC Jersey</h2>
        <p>Official Home Kit 2025</p>

        <label for="size">Size:</label>
        <select id="size">
          <option>Small</option>
          <option>Medium</option>
          <option>Large</option>
          <option>XL</option>
        </select>

        <label for="kit-select">Kit Type:</label>
        <select id="kit-select">
          <option>HOME KIT(Black and White)</option>
          <option>AWAY KIT(Blue)</option>
        </select>

        <label for="quantity">Quantity:</label>
        <input type="number" id="quantity" value="1" min="1" max="10" />

        <label for="customize">Customize (Name/Number):</label>
        <input type="text" id="customize" placeholder="e.g. EMMAN • 10" />

        <p id="pricing"><strong>£50 on sale for £25</strong></p>
        <p id="addPricing"><strong> £30 total for Cutomzing</strong></p>

        <button onclick="PayForJersey()">PAY</button>

        <p
          style="
            color: red;
            font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande',
              'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
          "
        >
          Delivery is free for collection in Reading <br />
          <strong>£3 delivery fee applies elsewhere.</strong>
        </p>
      </div>
    </div>

    <footer>
      <p>&copy; 2025 PROSPECT FC ©</p>
      <a
        target="_blank"
        href="https://www.facebook.com/share/16ngpSmCGs/?mibextid=wwXIfr"
        ><i class="fa-brands fa-facebook" style="color: #74c0fc"></i
      ></a>
      <a target="_blank" href="https://www.instagram.com/prospect.fc"
        ><i class="fa-brands fa-instagram" style="color: #74c0fc"></i
      ></a>
      <a target="_blank" href="https://youtube.com/@prospectfc"
        ><i class="fa-brands fa-youtube" style="color: #74c0fc"></i
      ></a>
      <a target="_blank" href="https://www.tiktok.com/@prospect.fc"
        ><i class="fa-brands fa-tiktok" style="color: #74c0fc"></i
      ></a>
    </footer>

    <script>
      async function PayForJersey() {
        const size = document.getElementById("size").value;
        const kit = document.getElementById("kit-select").value;
        const number = parseInt(document.getElementById("quantity").value, 10);
        const customize = document.getElementById("customize").value.trim();
        const img =
          kit === "HOME KIT(Black and White)"
            ? "https://res.cloudinary.com/dazhskqcc/image/upload/v1754065745/homejersy_am4o5k.jpg"
            : "https://res.cloudinary.com/dazhskqcc/image/upload/v1754061296/mobile_hero_dufkug.jpg";
        const order = [
          {
            size,
            price: customize === "" ? 25 + 3 : 30 + 3,
            kit,
            img,
            quantity: number,
            customize: customize === "" ? "no customize" : customize,
          },
        ];

        console.log(img);

        try {
          const response = await fetch(
            "https://prospectfcstripe.onrender.com/Fcprospect",
            {
              method: "POST",
              headers: {
                "Content-Type": "application/json",
              },
              body: JSON.stringify({ order }),
            }
          );

          const data = await response.json();

          if (response.ok) {
            const stripe = Stripe(
              "pk_live_51Rpsq2LRwcoOq8wgsLstZO5LcuIqjk7M54Kisklu5AbUHZfeC1r1RDaEA6bz7iq6eDxFiR7yqLGrx80PsGYmdqGt007D5oIJL3"
            );
            // Redirect to Stripe Checkout
            await stripe.redirectToCheckout({ sessionId: data.id });
          } else {
            alert(data.error || "Failed to create Stripe session.");
          }
        } catch (error) {
          console.error("Error:", error);
          alert("Something went wrong, check console.");
        }
      }

      new Swiper(".jersey-swiper", {
        loop: true,
        autoplay: {
          delay: 2000,
          disableOnInteraction: false,
        },
        pagination: {
          el: ".swiper-pagination",
          clickable: true,
        },
      });
    </script>
  </body>
</html>
